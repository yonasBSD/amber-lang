import * from "std/env"
import { temp_dir_create } from "std/fs"

main {
    const tmpdir = temp_dir_create("amber-confirm-test-XXXX", true, true)?
    const test_file = "{tmpdir}/test_confirm"
    trust $ echo "Y" > {test_file} $
    trust $ exec 0< {test_file} $
    if input_confirm("Yes"): echo "Confirm Yes"
    trust $ echo "N" > {test_file} $
    trust $ exec 0< {test_file} $
    if not input_confirm("No"): echo "Confirm No"
    trust $ echo "" > {test_file} $
    trust $ exec 0< {test_file} $
    if input_confirm("Default", true): echo "Confirm Default"
}
